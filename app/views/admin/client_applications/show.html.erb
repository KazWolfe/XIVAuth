<div class="row">
  <div class="col-md-6">
    <h3>Basic Application Info</h3>

    <table class="table table-borderless">
      <tbody>
      <tr>
        <th scope="row">App ID</th>
        <td><code><%= @application.id %></code></td>
      </tr>
      <tr>
        <th scope="row">App Name</th>
        <td>
          <%= verifiable_text(@application.name, @application.verified?, title: "Verified Application") %>
        </td>
      </tr>
      <tr>
        <th scope="row">App Owner</th>
        <td>
          <% if @application.owner_type == 'Team' %>
            <i class="bi bi-people"></i>
            <% @application.owner.name %>
          <% elsif @application.owner_type == 'User' %>
            <i class="bi bi-person"></i>
            <%= link_to_pretty_user @application.owner %>
          <% else %>
            <% @application.owner %>
          <% end %>
        </td>
      </tr>
      <tr>
        <th scope="row">Creation Date</th>
        <td><%= @application.created_at %></td>
      </tr>
      <tr>
        <th scope="row">Last Edit Date</th>
        <td><%= @application.updated_at %></td>
      </tr>
      </tbody>
    </table>
  </div>

  <div class="col-md-6">
    <h3>Configuration</h3>
    <div class="btn-toolbar">
      <% if @application.verified? %>
        <button class="btn btn-warning me-2"><i class="bi bi-patch-minus"></i> Unverify</button>
      <% else %>
        <button class="btn btn-primary me-2"><i class="bi bi-patch-plus"></i> Verify</button>
      <% end %>
      <button class="btn btn-danger"><i class="bi bi-trash"></i> Delete</button>
    </div>

    <table class="table table-borderless">
      <tbody>
      <tr>
        <th scope="row">Application Type</th>
        <td><%= @application.confidential ? "Authorization Code" : "Auth Code w/ PKCE" %></td>
      </tr>
      <tr>
        <th scope="row">OAuth Client ID</th>
        <td>
          <code><%= @application.uid %></code>
        </td>
      </tr>
      <% secret = flash[:application_secret].presence || @application.plaintext_secret %>
      <% unless secret.blank? && Doorkeeper.config.application_secret_hashed? %>
        <tr>
          <th scope="row">OAuth Client Secret</th>
          <td>
            <code><%= secret %></code>
          </td>
        </tr>
      <% end %>
      <tr>
        <th scope="row">Approved Scopes</th>
        <td><code><%= @application.scopes %></code></td>
      </tr>
      <tr>
        <th scope="row">Redirect URIs</th>
        <td><%= @application.redirect_uri %></td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
