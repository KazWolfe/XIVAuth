<% content_for(:page_header) do %>
  <div>
    <h1>My Characters</h1>
    <p>Add, verify, and remove characters for use with external services.</p>
  </div>
  <div>
    <% if can_add_characters? %>
      <%= link_to new_character_registration_path, class: "btn btn-primary" do %>
        <i class="bi bi-plus"></i> Add Character
      <% end %>
    <% end %>
  </div>
<% end %>

<div class="row">
  <% @character_registrations.each do |character_registration| %>
    <div class="col-md-6 col-xl-4 mb-2">
      <%= render 'character_card', character_registration: character_registration %>
    </div>
  <% end %>
</div>

<%== pagy_bootstrap_nav(@pagy) if @pagy.pages > 1 %>

<div id="character-verification-modal-container"></div>

<%= turbo_stream_from "UserStream:#{current_user.id}", :character_registrations %>